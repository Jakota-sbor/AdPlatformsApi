# AdPlatformsApi
В проектах используется NET 8.0  
Проект AdPlatformsApi - проект ASP.NET Core Web Api  
Проект AdPlatformsApi.Tests - проект юнит-тестов  

Для запуска веб-сервиса - открыть решение (.sln), запустить проект AdPlatformsApi в любой конфигурации (Release/Debug) с профилем "http".  
После сборки проекта должен запуститься браузер и откроется страница Swagger (http://localhost:5160/swagger/index.html).  
Для запуска юнит-тестов - в меню выбрать Тесты -> Запуск всех тестов (CTRL+R, потом CTRL+A).  

API содержит один контроллер ServiceController с двумя методами:  
- POST метод upload - для загрузки платформ и локаций из txt файла, размер файла должен быть не больше 10 Мб (можно изменить в коде проекта)  
- GET метод getplatforms - для поиска платформ по локации, принимает один параметр "location" в котором должно быть значение вида "/ru/svrd"  
```
Тестовое задание: рекламные площадки.
Описание:
Рекламодатели часто хотят размещать рекламу в каком-то конкретном регионе (локации), например только в московской области или только в городе Малые Васюки.
Мы хотим сделать сервис, который помог бы подбирать рекламные площадки для конкретного региона.
Все рекламные площадки перечислены в текстовом файле вместе с локациями, в которых они действуют.
Пример файла:
Яндекс.Директ:/ru
Ревдинский рабочий:/ru/svrd/revda,/ru/svrd/pervik
Газета уральских москвичей:/ru/msk,/ru/permobl,/ru/chelobl
Крутая реклама:/ru/svrd
Здесь Ревдинский рабочий - это рекламная площадка, a /ru/svrd/revda и /ru/svrd/pervik — локации, в которых действует Ревдинский рабочий
Локации вложены, если одна содержит другую как префикс, например /ru/svrd/ekb вложена в /ru/svrd, /ru/svrd вложена в /ru, /ru/svrd/ekb вложена в /ru.
Рекламная площадка действует во всех указанных локациях перечисленных через “,”. Чем меньше вложенность локации, тем глобальнее действует рекламная площадка.
Пример: для локации /ru/msk подходят Газета уральских москвичей и Яндекс.Директ. Для локации /ru/svrd подходят Яндекс.Директ и Крутая реклама, для /ru/svrd/revda подходят Яндекс.Директ,  Ревдинский рабочий и Крутая реклама, а для локации /ru подходит только Яндекс.Директ.

Что нужно сделать:
Необходимо реализовать простой веб сервис, позволяющий хранить и возвращать списки рекламных площадок для заданной локации в запросе. 
Информация для реализации:
Веб сервис должен содержать 2 метода REST API:  
Метод загрузки рекламных площадок из файла (должен полностью перезаписывать всю хранимую информацию).
Метод поиска списка рекламных площадок для заданной локации.
Данные должны храниться строго в оперативной памяти (in-memory collection).
Важно получать результат поиска рекламных площадок как можно быстрее.
Считаем, что операция загрузки файла вызывается очень редко, а операция поиска рекламных площадок очень часто.
Программа не должна ломаться от некорректных входных данных.
```
